![projecteuler.net](images/print_page_logo.png)

## Pencils of rays

### Problem 372 ![](images/icon_info.png)Published on Saturday, 18th February
2012, 01:00 pm; Solved by 301;  
Difficulty rating: 60%

Let R(M, N) be the number of lattice points (x, y) which satisfy M&lt;x≤N,
M&lt;y≤N and ![p372_pencilray1.jpg](project/images/p372_pencilray1.jpg) is
odd.  
We can verify that R(0, 100) = 3019 and R(100, 10000) = 29750422.  
Find R(2·106, 109).

__Note__: ![p372_pencilray2.gif](project/images/p372_pencilray2.gif)
represents the floor function.

  
  

